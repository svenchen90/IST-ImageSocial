<!DOCTYPE html>
<!-- release v4.3.2, copyright 2014 - 2015 Kartik Visweswaran -->
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <title>Krajee JQuery Plugins - &copy; Kartik</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">
        <link href="css/fileinput.css" media="all" rel="stylesheet" type="text/css" />
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <script src="js/fileinput.js" type="text/javascript"></script>
        <script src="js/locales/fr.js" type="text/javascript"></script>
        <script src="js/locales/es.js" type="text/javascript"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div class="container kv-main">
            <input id="input-700" name="inputFile" type="file" accept="image/*" multiple class="file-loading">
        </div>
		<input id="abc"  type="text"></input>
		<script>
		$("#input-700").fileinput({
			uploadUrl: "/uploads", // server upload action
			autoReplace: true,
			uploadAsync: true,
			//maxFileCount: 5,
			previewFileType: "image",
			showCaption: true,
			showRemove: true,
			showUpload: true,
			browseClass: "btn btn-success",
			browseLabel: "Pick Image",
			browseIcon: "<i class=\"glyphicon glyphicon-picture\"></i> ",
			removeClass: "btn btn-danger",
			removeLabel: "Clear",
			removeIcon: "<i class=\"glyphicon glyphicon-trash\"></i> ",
			uploadClass: "btn btn-info",
			uploadLabel: "Upload",
			uploadIcon: "<i class=\"glyphicon glyphicon-upload\"></i>",

			uploadExtraData: function(){
				var data = {abc: 123, cde: $('#abc').val()};
				return data;
			}
		})
		.on('fileuploaded', function(event, data, previewId, index) {
			var form = data.form, files = data.files, extra = data.extra,
				response = data.response, reader = data.reader;
			
			console.log('File pre upload triggered');
			console.log(extra);
			console.log(response);
			console.log(files);
		});
		$('#abc').on('change', function(){
			$('#input-700').fileinput('upload');
		});
		console.log($('#input-700').fileinput('getFileStack'));;
		//$('#input-700').fileinput('disable').fileinput('enable')
		
 
		// method chaining
		//$('#input-700').fileinput('upload').fileinput('disable');
		</script>
    </body>
</html>